qfunc encoding_expanded___0(x: qnum<1, False, 0>, ancilla: qnum<3, False, 0>, y: qbit) {
  inplace_prepare_amplitudes([
    0.707106781187,
    0.707106781187
  ], 0.01, x);
  unitary([
    [1.0, 0.0],
    [0.0, (-1.0)]
  ], y);
  control (y == 0) {
    unitary([
      [
        0.606533767963,
        0.606533767963,
        0.428884140345,
        0.247616373879,
        0.12380818694,
        0.055368704434,
        0.02260417893,
        0.008543576577
      ],
      [
        0.606533767963,
        0.065019608484,
        (-0.661130975118),
        (-0.381704146454),
        (-0.190852073227),
        (-0.085351641876),
        (-0.034844661884),
        (-0.013170044266)
      ],
      [
        0.428884140345,
        (-0.661130975118),
        0.532509804242,
        (-0.269905590364),
        (-0.134952795182),
        (-0.060352724756),
        (-0.024638896707),
        (-0.009312627609)
      ],
      [
        0.247616373879,
        (-0.381704146454),
        (-0.269905590364),
        0.844169934747,
        (-0.077915032626),
        (-0.034844661884),
        (-0.014225273646),
        (-0.005376648057)
      ],
      [
        0.12380818694,
        (-0.190852073227),
        (-0.134952795182),
        (-0.077915032626),
        0.961042483687,
        (-0.017422330942),
        (-0.007112636823),
        (-0.002688324029)
      ],
      [
        0.055368704434,
        (-0.085351641876),
        (-0.060352724756),
        (-0.034844661884),
        (-0.017422330942),
        0.992208496737,
        (-0.003180867887),
        (-0.001202255055)
      ],
      [
        0.02260417893,
        (-0.034844661884),
        (-0.024638896707),
        (-0.014225273646),
        (-0.007112636823),
        (-0.003180867887),
        0.998701416123,
        (-0.000490818571)
      ],
      [
        0.008543576577,
        (-0.013170044266),
        (-0.009312627609),
        (-0.005376648057),
        (-0.002688324029),
        (-0.001202255055),
        (-0.000490818571),
        0.999814488018
      ]
    ], ancilla);
  } else {
    unitary([
      [
        1.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        1.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        1.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        1.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        1.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        1.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        1.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        1.0
      ]
    ], ancilla);
  }
}

qfunc evolution_expanded___0(x: qnum<1, False, 0>, ancilla: qnum<3, False, 0>) {
  control (ancilla == 0) {
    unitary([[1, 0], [0, 1]], x);
  }
  control (ancilla == 1) {
    unitary([[0, 1], [(-1), 0]], x);
  }
  control (ancilla == 2) {
    unitary([[(-1), 0], [0, (-1)]], x);
  }
  control (ancilla == 3) {
    unitary([[0, (-1)], [1, 0]], x);
  }
  control (ancilla == 4) {
    unitary([[1, 0], [0, 1]], x);
  }
  control (ancilla == 5) {
    unitary([[0, 1], [(-1), 0]], x);
  }
  control (ancilla == 6) {
    unitary([[(-1), 0], [0, (-1)]], x);
  }
  control (ancilla == 7) {
    unitary([[0, (-1)], [1, 0]], x);
  }
}

qfunc decoding_expanded___0(ancilla: qnum<3, False, 0>, y: qbit) {
  control (y == 0) {
    unitary([
      [
        0.606533767963,
        0.606533767963,
        0.428884140345,
        0.247616373879,
        0.12380818694,
        0.055368704434,
        0.02260417893,
        0.008543576577
      ],
      [
        0.606533767963,
        0.065019608484,
        (-0.661130975118),
        (-0.381704146454),
        (-0.190852073227),
        (-0.085351641876),
        (-0.034844661884),
        (-0.013170044266)
      ],
      [
        0.428884140345,
        (-0.661130975118),
        0.532509804242,
        (-0.269905590364),
        (-0.134952795182),
        (-0.060352724756),
        (-0.024638896707),
        (-0.009312627609)
      ],
      [
        0.247616373879,
        (-0.381704146454),
        (-0.269905590364),
        0.844169934747,
        (-0.077915032626),
        (-0.034844661884),
        (-0.014225273646),
        (-0.005376648057)
      ],
      [
        0.12380818694,
        (-0.190852073227),
        (-0.134952795182),
        (-0.077915032626),
        0.961042483687,
        (-0.017422330942),
        (-0.007112636823),
        (-0.002688324029)
      ],
      [
        0.055368704434,
        (-0.085351641876),
        (-0.060352724756),
        (-0.034844661884),
        (-0.017422330942),
        0.992208496737,
        (-0.003180867887),
        (-0.001202255055)
      ],
      [
        0.02260417893,
        (-0.034844661884),
        (-0.024638896707),
        (-0.014225273646),
        (-0.007112636823),
        (-0.003180867887),
        0.998701416123,
        (-0.000490818571)
      ],
      [
        0.008543576577,
        (-0.013170044266),
        (-0.009312627609),
        (-0.005376648057),
        (-0.002688324029),
        (-0.001202255055),
        (-0.000490818571),
        0.999814488018
      ]
    ], ancilla);
  } else {
    unitary([
      [
        1.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        1.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        1.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        1.0,
        0.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        1.0,
        0.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        1.0,
        0.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        1.0,
        0.0
      ],
      [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        1.0
      ]
    ], ancilla);
  }
  unitary([
    [1.0, 0.0],
    [0.0, (-1.0)]
  ], y);
}

qfunc main(output x: qnum<1, False, 0>, output ancilla: qnum<3, False, 0>, output y: qbit) {
  allocate(1, x);
  allocate(3, ancilla);
  allocate(1, y);
  encoding_expanded___0(x, ancilla, y);
  evolution_expanded___0(x, ancilla);
  decoding_expanded___0(ancilla, y);
}
