qfunc main(output x: qnum, output y: qnum) {
  allocate<4>(x);
  hadamard_transform(x);
  y = (x ** 2) + 1;
}
