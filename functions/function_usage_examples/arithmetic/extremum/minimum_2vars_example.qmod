qfunc main(output a: qnum, output b: qnum, output res: qnum) {
  a = 4;
  allocate(3, b);
  hadamard_transform(b);
  res = min(a, b);
}
