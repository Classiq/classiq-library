qfunc main(output a: qnum, output res: qnum) {
  allocate<3>(a);
  hadamard_transform(a);
  res = max(3.5, a);
}
