qfunc apply_to_all<gate_operand: qfunc (target: qbit[1])>(target: qbit[]) {
  repeat (index: target.len) {
    gate_operand(target[index]);
  }
}
