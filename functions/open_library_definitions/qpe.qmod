qfunc qpe(unitary: qfunc (), phase: qnum) {
  qpe_flexible(lambda(k) {
    power (k) {
      unitary();
    }
  }, phase);
}
